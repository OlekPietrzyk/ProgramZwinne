<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="fragments/header :: header"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link rel="stylesheet" type="text/css" th:href="@{/static/css/datatable/datatables.min.css}"/>
    <script type="text/javascript" th:src="@{/static/js/datatable/datatables.min.js}"></script>


    <link rel="stylesheet" type="text/css" th:href="@{/static/css/viewStyle.css}"/>
    <script type="text/javascript" th:src="@{/static/js/fileViewDataTable.js}"></script>
</head>


<body>
<div th:replace="fragments/header :: body"/>


<div class="contentBox">
    <div class="layer">
        <div class="container">
            <div class="white-panel">
                <div class="margins">
                    <ul style="padding-top: 1cm"></ul>

                    <form method="POST" th:action="@{'/' + ${user.toLowerCase()} + '/viewFiles/' + ${idTask}}"  enctype="multipart/form-data">




                        <table id="myTable" class="table table-hover table-sm">
                            <thead>
                            <tr>
                                <th class="col-10" scope="col">Nazwa pliku</th>
                                <th class="col-2" scope="col"></th>


                            </tr>
                            </thead>

                            <tbody>
                            <tr th:each="file: ${files}">
                                <td class="col-10" th:text="${file.getFileName()}"></td>
                                <td class="col-2" >
                                    <div th:if="${user == 'LECTURER'}">
                                        <a th:href="@{'/lecturer/download/' + ${file.getId()}}" class="edit" data-toggle="tooltip"><i class="material-icons">file_download</i></a>
                                    </div>
                                    <div th:if="${user == 'STUDENT'}">
                                        <a th:href="@{'/student/download/' + ${file.getId()}}" class="edit" data-toggle="tooltip"><i class="material-icons">file_download</i></a>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <ul style="padding-top: 1cm"></ul>

                        <div class="col-5">
                            <label class="col-form-label">Wczytywanie plik√≥w:</label>
                        </div>
                        <div class="form-group col-lg-4" >
                            <div class="input-group">
                                <div class="custom-file">
                                    <input type="file" th:name="file" class="custom-file-input" id="inputGroupFile02">
                                    <label class="custom-file-label" for="inputGroupFile02">Wybierz plik...</label>
                                </div>
                                <div class="input-group-append">
                                    <input  th:type="submit" class="input-group-text" value="Wczytaj">
                                </div>
                            </div>
                        </div>

                    </form>







                </div>

            </div>

        </div>
    </div>

</div>
</body>

</html>